package com.labs;

import java.util.Arrays;

public class Main {
    static double[] startPointX = {1.0, 1.2, 1.4, 1.6, 1.8, 2.0, 2.2, 2.4000000000000004, 2.6, 2.8};
    static double[] startPointY = {0.8414709848078965, 0.9320390859672263, 0.9854497299884601, 0.9995736030415051, 0.9738476308781951, 0.9092974268256817, 0.8084964038195901, 0.6754631805511506, 0.5155013718214642, 0.3349881501559051};
    static int length = startPointX.length;
    static double[] denominatorOfSeparatedDifference = new double[length];
    static double[] separatedDifference = new double[length];

    static{
        Arrays.fill(denominatorOfSeparatedDifference, 1);
    }

    public static void main(String[] args) {
        double currentDifference;
        for (int i = 0; i < length; i++) {
            multiply(i);
            System.out.println(Arrays.toString(denominatorOfSeparatedDifference));
            currentDifference = 0;

            for (int j = 0; j < i + 1; j++) {
                currentDifference += startPointY[j]/denominatorOfSeparatedDifference[j];
            }

            separatedDifference[i] = currentDifference;
        }


        System.out.println(Arrays.toString(separatedDifference));

        System.out.println("----------------");
        double[] x1 = new double[] {1.0, 1.02, 1.04, 1.06, 1.08, 1.1, 1.12, 1.1400000000000001, 1.16, 1.18, 1.2, 1.22, 1.24, 1.26, 1.28, 1.3, 1.32, 1.34, 1.3599999999999999, 1.38, 1.4, 1.42, 1.44, 1.46, 1.48, 1.5, 1.52, 1.54, 1.56, 1.58, 1.6, 1.62, 1.6400000000000001, 1.6600000000000001, 1.6800000000000002, 1.7000000000000002, 1.72, 1.74, 1.76, 1.78, 1.8, 1.82, 1.8399999999999999, 1.8599999999999999, 1.88, 1.9, 1.92, 1.94, 1.96, 1.98, 2.0, 2.02, 2.04, 2.06, 2.08, 2.1, 2.12, 2.14, 2.16, 2.1799999999999997, 2.2, 2.2199999999999998, 2.24, 2.26, 2.2800000000000002, 2.3, 2.3200000000000003, 2.34, 2.3600000000000003, 2.38, 2.4000000000000004, 2.42, 2.44, 2.46, 2.48, 2.5, 2.52, 2.54, 2.56, 2.58, 2.6, 2.62, 2.64, 2.66, 2.6799999999999997, 2.7, 2.7199999999999998, 2.74, 2.76, 2.7800000000000002, 2.8, 2.8200000000000003, 2.84, 2.8600000000000003, 2.88, 2.9000000000000004, 2.92, 2.94, 2.96, 2.98};
        double[] y1 = new double[] {0.8414709848078965, 0.852108021949363, 0.8624042272433384, 0.8723554823449863, 0.8819578068849475, 0.8912073600614354, 0.9001004421765051, 0.9086334961158833, 0.9168031087717669, 0.9246060124080203, 0.9320390859672263, 0.9390993563190676, 0.945783999449539, 0.9520903415905158, 0.9580158602892249, 0.963558185417193, 0.9687151001182652, 0.9734845416953194, 0.9778646024353161, 0.9818535303723597, 0.9854497299884601, 0.9886517628517197, 0.9914583481916864, 0.9938683634116449, 0.99588084453764, 0.9974949866040544, 0.998710143975583, 0.9995258306054791, 0.9999417202299663, 0.9999576464987401, 0.9995736030415051, 0.998789743470524, 0.9976063813191737, 0.9960239899165367, 0.994043202198076, 0.9916648104524686, 0.9888897660047015, 0.9857191788355535, 0.9821543171376185, 0.9781966068080447, 0.9738476308781951, 0.9691091288804563, 0.9639829961524482, 0.9584712830789143, 0.9525761942715953, 0.9463000876874145, 0.9396454736853249, 0.9326150140222005, 0.9252115207881683, 0.9174379552818098, 0.9092974268256817, 0.9007931915226273, 0.8919286509533796, 0.8827073508159741, 0.8731329795075164, 0.8632093666488737, 0.8529404815528762, 0.8423304316366457, 0.8313834607786831, 0.8201039476213744, 0.8084964038195901, 0.7965654722360868, 0.7843159250844198, 0.7717526620201259, 0.7588807081809218, 0.7457052121767203, 0.7322314440302511, 0.7184647930691263, 0.7044107657701759, 0.6900749835569364, 0.6754631805511506, 0.6605812012792007, 0.6454349983343707, 0.6300306299958922, 0.6143742578057118, 0.5984721441039564, 0.5823306495240819, 0.5659562304487028, 0.5493554364271266, 0.5325349075556212, 0.5155013718214642, 0.49826164241183857, 0.48082261498864826, 0.4631912649303452, 0.44537464454187153, 0.4273798802338298, 0.40921416967201774, 0.3908847788984522, 0.3723990394250557, 0.3537643453011427, 0.3349881501559051, 0.3160779642170534, 0.2970413513068324, 0.27788592581658633, 0.25861934966111083, 0.23924932921398198, 0.21978361222511694, 0.20022998472177053, 0.18059626789423291, 0.16089031496745576};
        for (int i = 0; i < x1.length; i++) {
            System.out.println(interpolation(x1[i]) - y1[i]);
        }
        //System.out.println("Y = " + interpolation(3));

    }

    static void multiply(int index){
        for (int i = 0; i < length; i++){
            if (index != i){
                denominatorOfSeparatedDifference[i] *= startPointX[i] - startPointX[index];
            }
        }
    }

    static double interpolation(double x){
        double result = 0;
        double degreeOfX = 1;

        for (int i = 0; i < length; i++) {
            result += separatedDifference[i] * degreeOfX;
            degreeOfX *= x - startPointX[i];
        }
        return result;
    }

}